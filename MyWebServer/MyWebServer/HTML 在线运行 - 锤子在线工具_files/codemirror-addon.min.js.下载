(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";function l(t,i,r){function f(t){if(!u.parentNode)return n.off(document,"mousemove",f);u.style.top=Math.max(0,t.clientY-u.offsetHeight-5)+"px";u.style.left=t.clientX+5+"px"}var u=document.createElement("div");u.className="CodeMirror-lint-tooltip cm-s-"+t.options.theme;u.appendChild(r.cloneNode(!0));t.state.lint.options.selfContain?t.getWrapperElement().appendChild(u):document.body.appendChild(u);n.on(document,"mousemove",f);return f(i),u.style.opacity!=null&&(u.style.opacity=1),u}function f(n){n.parentNode&&n.parentNode.removeChild(n)}function a(n){n.parentNode&&(n.style.opacity==null&&f(n),n.style.opacity=0,setTimeout(function(){f(n)},600))}function e(t,i,r,u){function e(){n.off(u,"mouseout",e);f&&(a(f),f=null)}var f=l(t,i,r),o=setInterval(function(){if(f)for(var n=u;;n=n.parentNode){if(n&&n.nodeType==11&&(n=n.host),n==document.body)return;if(!n){e();break}}if(!f)return clearInterval(o)},400);n.on(u,"mouseout",e)}function v(n,t,r){var u;this.marked=[];t instanceof Function&&(t={getAnnotations:t});t&&t!==!0||(t={});this.options={};this.linterOptions=t.options||{};for(u in i)this.options[u]=i[u];for(u in t)i.hasOwnProperty(u)?t[u]!=null&&(this.options[u]=t[u]):t.options||(this.linterOptions[u]=t[u]);this.timeout=null;this.hasGutter=r;this.onMouseOver=function(t){g(n,t)};this.waitingFor=0}function o(n){var i=n.state.lint,r;for(i.hasGutter&&n.clearGutter(t),i.options.highlightLines&&y(n),r=0;r<i.marked.length;++r)i.marked[r].clear();i.marked.length=0}function y(n){n.eachLine(function(t){var i=t.wrapClass&&/\bCodeMirror-lint-line-\w+\b/.exec(t.wrapClass);i&&n.removeLineClass(t,"wrap",i[0])})}function p(t,i,r,u,f){var o=document.createElement("div"),s=o;if(o.className="CodeMirror-lint-marker CodeMirror-lint-marker-"+r,u&&(s=o.appendChild(document.createElement("div")),s.className="CodeMirror-lint-marker CodeMirror-lint-marker-multiple"),f!=!1)n.on(s,"mouseover",function(n){e(t,n,i,s)});return o}function w(n,t){return n=="error"?n:t}function b(n){for(var r,u,t=[],i=0;i<n.length;++i)r=n[i],u=r.from.line,(t[u]||(t[u]=[])).push(r);return t}function s(n){var i=n.severity,t;return i||(i="error"),t=document.createElement("div"),t.className="CodeMirror-lint-message CodeMirror-lint-message-"+i,typeof n.messageHTML!="undefined"?t.innerHTML=n.messageHTML:t.appendChild(document.createTextNode(n.message)),t}function k(t,i){function f(){e=-1;t.off("change",f)}var r=t.state.lint,e=++r.waitingFor;t.on("change",f);i(t.getValue(),function(i,o){(t.off("change",f),r.waitingFor==e)&&(o&&i instanceof n&&(i=o),t.operation(function(){u(t,i)}))},r.linterOptions,t)}function r(t){var f=t.state.lint,e,i,r;if(f&&(e=f.options,i=e.getAnnotations||t.getHelper(n.Pos(0,0),"lint"),i))if(e.async||i.async)k(t,i);else{if(r=i(t.getValue(),f.linterOptions,t),!r)return;r.then?r.then(function(n){t.operation(function(){u(t,n)})}):t.operation(function(){u(t,r)})}}function u(n,i){var e=n.state.lint,u,l,f,h,k,a,d,y,r,v;if(e){for(u=e.options,o(n),l=b(i),f=0;f<l.length;++f)if(h=l[f],h){for(k=[],h=h.filter(function(n){return k.indexOf(n.message)>-1?!1:k.push(n.message)}),a=null,d=e.hasGutter&&document.createDocumentFragment(),y=0;y<h.length;++y)r=h[y],v=r.severity,v||(v="error"),a=w(a,v),u.formatAnnotation&&(r=u.formatAnnotation(r)),e.hasGutter&&d.appendChild(s(r)),r.to&&e.marked.push(n.markText(r.from,r.to,{className:"CodeMirror-lint-mark CodeMirror-lint-mark-"+v,__annotation:r}));e.hasGutter&&n.setGutterMarker(f,t,p(n,d,a,l[f].length>1,u.tooltips));u.highlightLines&&n.addLineClass(f,"wrap",c+a)}if(u.onUpdateLinting)u.onUpdateLinting(i,l,n)}}function h(n){var t=n.state.lint;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(function(){r(n)},t.options.delay))}function d(n,t,i){for(var f,o=i.target||i.srcElement,u=document.createDocumentFragment(),r=0;r<t.length;r++)f=t[r],u.appendChild(s(f));e(n,i,u,o)}function g(n,t){var e=t.target||t.srcElement,r,f;if(/\bCodeMirror-lint-mark-/.test(e.className)){var i=e.getBoundingClientRect(),s=(i.left+i.right)/2,h=(i.top+i.bottom)/2,o=n.findMarksAt(n.coordsChar({left:s,top:h},"client")),u=[];for(r=0;r<o.length;++r)f=o[r].__annotation,f&&u.push(f);u.length&&d(n,u,t)}}var t="CodeMirror-lint-markers",c="CodeMirror-lint-line-",i={highlightLines:!1,tooltips:!0,delay:500,lintOnChange:!0,getAnnotations:null,"async":!1,selfContain:null,formatAnnotation:null,onUpdateLinting:null};n.defineOption("lint",!1,function(i,u,f){var c,l,s,e;if(f&&f!=n.Init&&(o(i),i.state.lint.options.lintOnChange!==!1&&i.off("change",h),n.off(i.getWrapperElement(),"mouseover",i.state.lint.onMouseOver),clearTimeout(i.state.lint.timeout),delete i.state.lint),u){for(c=i.getOption("gutters"),l=!1,s=0;s<c.length;++s)c[s]==t&&(l=!0);if(e=i.state.lint=new v(i,u,l),e.options.lintOnChange)i.on("change",h);if(e.options.tooltips!=!1&&e.options.tooltips!="gutter")n.on(i.getWrapperElement(),"mouseover",e.onMouseOver);r(i)}});n.defineExtension("performLint",function(){r(this)})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function i(i,u,f,e){function a(n){var t=s(i,u),f,r;if(!t||t.to.line-t.from.line<l)return null;if(e==="fold")return t;for(f=i.findMarksAt(t.from),r=0;r<f.length;++r)if(f[r].__isFold){if(!n)return null;t.cleared=!0;f[r].clear()}return t}var s,l,o,h,c;if(f&&f.call?(s=f,f=null):s=t(i,f,"rangeFinder"),typeof u=="number"&&(u=n.Pos(u,0)),l=t(i,f,"minFoldSize"),o=a(!0),t(i,f,"scanUp"))while(!o&&u.line>i.firstLine())u=n.Pos(u.line-1,0),o=a(!1);if(o&&!o.cleared&&e!=="unfold"){h=r(i,f,o);n.on(h,"mousedown",function(t){c.clear();n.e_preventDefault(t)});c=i.markText(o.from,o.to,{replacedWith:h,clearOnEnter:t(i,f,"clearOnEnter"),__isFold:!0});c.on("clear",function(t,r){n.signal(i,"unfold",i,t,r)});n.signal(i,"fold",i,o.from,o.to)}}function r(n,i,r){var u=t(n,i,"widget"),f;return typeof u=="function"&&(u=u(r.from,r.to)),typeof u=="string"?(f=document.createTextNode(u),u=document.createElement("span"),u.appendChild(f),u.className="CodeMirror-foldmarker"):u&&(u=u.cloneNode(!0)),u}function t(n,t,i){if(t&&t[i]!==undefined)return t[i];var r=n.options.foldOptions;return r&&r[i]!==undefined?r[i]:u[i]}n.newFoldFunction=function(n,t){return function(r,u){i(r,u,{rangeFinder:n,widget:t})}};n.defineExtension("foldCode",function(n,t,r){i(this,n,t,r)});n.defineExtension("isFolded",function(n){for(var i=this.findMarksAt(n),t=0;t<i.length;++t)if(i[t].__isFold)return!0});n.commands.toggleFold=function(n){n.foldCode(n.getCursor())};n.commands.fold=function(n){n.foldCode(n.getCursor(),null,"fold")};n.commands.unfold=function(n){n.foldCode(n.getCursor(),{scanUp:!1},"unfold")};n.commands.foldAll=function(t){t.operation(function(){for(var i=t.firstLine(),r=t.lastLine();i<=r;i++)t.foldCode(n.Pos(i,0),{scanUp:!1},"fold")})};n.commands.unfoldAll=function(t){t.operation(function(){for(var i=t.firstLine(),r=t.lastLine();i<=r;i++)t.foldCode(n.Pos(i,0),{scanUp:!1},"unfold")})};n.registerHelper("fold","combine",function(){var n=Array.prototype.slice.call(arguments,0);return function(t,i){for(var u,r=0;r<n.length;++r)if(u=n[r](t,i),u)return u}});n.registerHelper("fold","auto",function(n,t){for(var r,u=n.getHelpers(t,"fold"),i=0;i<u.length;i++)if(r=u[i](n,t),r)return r});var u={rangeFinder:n.fold.auto,widget:"â†”",minFoldSize:0,scanUp:!1,clearOnEnter:!0};n.defineOption("foldOptions",null);n.defineExtension("foldOption",function(n,i){return t(this,n,i)})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("./foldcode")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./foldcode"],n):n(CodeMirror)}(function(n){"use strict";function l(n){this.options=n;this.from=this.to=0}function a(n){return n===!0&&(n={}),n.gutter==null&&(n.gutter="CodeMirror-foldgutter"),n.indicatorOpen==null&&(n.indicatorOpen="CodeMirror-foldgutter-open"),n.indicatorFolded==null&&(n.indicatorFolded="CodeMirror-foldgutter-folded"),n}function e(n,i){for(var f,u=n.findMarks(t(i,0),t(i+1,0)),r=0;r<u.length;++r)if(u[r].__isFold&&(f=u[r].find(-1),f&&f.line===i))return u[r]}function o(n){if(typeof n=="string"){var t=document.createElement("div");return t.className=n+" CodeMirror-guttermarker-subtle",t}return n.cloneNode(!0)}function i(n,i,r){var u=n.state.foldGutter.options,f=i-1,a=n.foldOption(u,"minFoldSize"),h=n.foldOption(u,"rangeFinder"),c=typeof u.indicatorFolded=="string"&&s(u.indicatorFolded),l=typeof u.indicatorOpen=="string"&&s(u.indicatorOpen);n.eachLine(i,r,function(i){var s,r,y,v;if(++f,s=null,r=i.gutterMarkers,r&&(r=r[u.gutter]),e(n,f)){if(c&&r&&c.test(r.className))return;s=o(u.indicatorFolded)}else if(y=t(f,0),v=h&&h(n,y),v&&v.to.line-v.from.line>=a){if(l&&r&&l.test(r.className))return;s=o(u.indicatorOpen)}(s||r)&&n.setGutterMarker(i,u.gutter,s)})}function s(n){return new RegExp("(^|\\s)"+n+"(?:$|\\s)\\s*")}function f(n){var t=n.getViewport(),r=n.state.foldGutter;r&&(n.operation(function(){i(n,t.from,t.to)}),r.from=t.from,r.to=t.to)}function h(n,i,r){var o=n.state.foldGutter,u,f;o&&(u=o.options,r==u.gutter)&&(f=e(n,i),f?f.clear():n.foldCode(t(i,0),u))}function r(n){var t=n.state.foldGutter,i;t&&(i=t.options,t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){f(n)},i.foldOnChangeTimeSpan||600))}function c(n){var t=n.state.foldGutter,r;t&&(r=t.options,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var r=n.getViewport();t.from==t.to||r.from-t.to>20||t.from-r.to>20?f(n):n.operation(function(){r.from<t.from&&(i(n,r.from,t.from),t.from=r.from);r.to>t.to&&(i(n,t.to,r.to),t.to=r.to)})},r.updateViewportTimeSpan||400))}function u(n,t){var u=n.state.foldGutter,r;u&&(r=t.line,r>=u.from&&r<u.to&&i(n,r,r+1))}n.defineOption("foldGutter",!1,function(t,i,e){if(e&&e!=n.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",h),t.off("changes",r),t.off("viewportChange",c),t.off("fold",u),t.off("unfold",u),t.off("swapDoc",r)),i){t.state.foldGutter=new l(a(i));f(t);t.on("gutterClick",h);t.on("changes",r);t.on("viewportChange",c);t.on("fold",u);t.on("unfold",u);t.on("swapDoc",r)}});var t=n.Pos}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";n.registerHelper("fold","brace",function(t,i){function k(r){for(var u,e=i.ch,o=0;;){if(u=e<=0?-1:b.lastIndexOf(r,e-1),u==-1){if(o==1)break;o=1;e=b.length;continue}if(o==1&&u<i.ch)break;if(a=t.getTokenTypeAt(n.Pos(f,u+1)),!/^(comment|string)/.test(a))return u+1;e=u-1}}var f=i.line,b=t.getLine(f),a,v=k("{"),s=k("["),y,p,h,w,d,c,g,u,e,r,o,l;if(v!=null&&(s==null||s>v))h=v,y="{",p="}";else if(s!=null)h=s,y="[",p="]";else return;w=1;d=t.lastLine();n:for(u=f;u<=d;++u)for(e=t.getLine(u),r=u==f?h:0;;){if(o=e.indexOf(y,r),l=e.indexOf(p,r),o<0&&(o=e.length),l<0&&(l=e.length),r=Math.min(o,l),r==e.length)break;if(t.getTokenTypeAt(n.Pos(u,r+1))==a)if(r==o)++w;else if(!--w){c=u;g=r;break n}++r}if(c!=null&&f!=c)return{from:n.Pos(f,h),to:n.Pos(c,g)}});n.registerHelper("fold","import",function(t,i){function u(i){var r,u,e,o,f;if(i<t.firstLine()||i>t.lastLine()||(r=t.getTokenAt(n.Pos(i,1)),/\S/.test(r.string)||(r=t.getTokenAt(n.Pos(i,r.end+1))),r.type!="keyword"||r.string!="import"))return null;for(u=i,e=Math.min(t.lastLine(),i+10);u<=e;++u)if(o=t.getLine(u),f=o.indexOf(";"),f!=-1)return{startCh:r.end,end:n.Pos(u,f)}}var r=i.line,e=u(r),s,f,o;if(!e||u(r-1)||(s=u(r-2))&&s.end.line==r-1)return null;for(f=e.end;;){if(o=u(f.line+1),o==null)break;f=o.end}return{from:t.clipPos(n.Pos(r,e.startCh+1)),to:f}});n.registerHelper("fold","include",function(t,i){function f(i){if(i<t.firstLine()||i>t.lastLine())return null;var r=t.getTokenAt(n.Pos(i,1));return/\S/.test(r.string)||(r=t.getTokenAt(n.Pos(i,r.end+1))),r.type=="meta"&&r.string.slice(0,8)=="#include"?r.start+8:void 0}var r=i.line,e=f(r),u,o;if(e==null||f(r-1)!=null)return null;for(u=r;;){if(o=f(u+1),o==null)break;++u}return{from:n.Pos(r,e+1),to:t.clipPos(n.Pos(u))}})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";n.registerGlobalHelper("fold","comment",function(n){return n.blockCommentStart&&n.blockCommentEnd},function(t,i){var d=t.getModeAt(i),c=d.blockCommentStart,l=d.blockCommentEnd,u,a,v,s,y,r,b,g,p,k,e,o,f,h,w;if(c&&l){for(u=i.line,a=t.getLine(u),s=i.ch,y=0;;){if(r=s<=0?-1:a.lastIndexOf(c,s-1),r==-1){if(y==1)return;y=1;s=a.length;continue}if(y==1&&r<i.ch)return;if(/comment/.test(t.getTokenTypeAt(n.Pos(u,r+1)))&&(r==0||a.slice(r-l.length,r)==l||!/comment/.test(t.getTokenTypeAt(n.Pos(u,r))))){v=r+c.length;break}s=r-1}b=1;g=t.lastLine();n:for(e=u;e<=g;++e)for(o=t.getLine(e),f=e==u?v:0;;){if(h=o.indexOf(c,f),w=o.indexOf(l,f),h<0&&(h=o.length),w<0&&(w=o.length),f=Math.min(h,w),f==o.length)break;if(f==h)++b;else if(!--b){p=e;k=f;break n}++f}if(p!=null&&(u!=p||k!=v))return{from:n.Pos(u,v),to:n.Pos(p,k)}}})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function t(t,i){var r=t.getLine(i),u=r.search(/\S/);return u==-1||/\bcomment\b/.test(t.getTokenTypeAt(n.Pos(i,u+1)))?-1:n.countColumn(r,null,t.getOption("tabSize"))}n.registerHelper("fold","indent",function(i,r){var o=t(i,r.line),u,f,s,e;if(!(o<0)){for(u=null,f=r.line+1,s=i.lastLine();f<=s;++f)if(e=t(i,f),e!=-1)if(e>o)u=f;else break;if(u)return{from:n.Pos(r.line,i.getLine(r.line).length),to:n.Pos(u,i.getLine(u).length)}}})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function s(n,t){return n.line-t.line||n.ch-t.ch}function i(n,t,i,r){this.line=t;this.ch=i;this.cm=n;this.text=n.getLine(t);this.min=r?Math.max(r.from,n.firstLine()):n.firstLine();this.max=r?Math.min(r.to-1,n.lastLine()):n.lastLine()}function u(n,i){var r=n.cm.getTokenTypeAt(t(n.line,i));return r&&/\btag\b/.test(r)}function c(n){if(!(n.line>=n.max))return n.ch=0,n.text=n.cm.getLine(++n.line),!0}function l(n){if(!(n.line<=n.min))return n.text=n.cm.getLine(--n.line),n.ch=n.text.length,!0}function e(n){for(var t,i,r;;){if(t=n.text.indexOf(">",n.ch),t==-1)if(c(n))continue;else return;if(!u(n,t+1)){n.ch=t+1;continue}return i=n.text.lastIndexOf("/",t),r=i>-1&&!/\S/.test(n.text.slice(i+1,t)),n.ch=t+1,r?"selfClose":"regular"}}function o(n){for(var t,i;;){if(t=n.ch?n.text.lastIndexOf("<",n.ch-1):-1,t==-1)if(l(n))continue;else return;if(!u(n,t+1)){n.ch=t;continue}if(r.lastIndex=t,n.ch=t,i=r.exec(n.text),i&&i.index==t)return i}}function a(n){for(;;){r.lastIndex=n.ch;var t=r.exec(n.text);if(!t)if(c(n))continue;else return;if(!u(n,t.index+1)){n.ch=t.index+1;continue}return n.ch=t.index+t[0].length,t}}function p(n){for(var t,i,r;;){if(t=n.ch?n.text.lastIndexOf(">",n.ch-1):-1,t==-1)if(l(n))continue;else return;if(!u(n,t+1)){n.ch=t;continue}return i=n.text.lastIndexOf("/",t),r=i>-1&&!/\S/.test(n.text.slice(i+1,t)),n.ch=t+1,r?"selfClose":"regular"}}function f(n,i){for(var f=[],u;;){var r=a(n),o,s=n.line,h=n.ch-(r?r[0].length:0);if(!r||!(o=e(n)))return;if(o!="selfClose")if(r[1]){for(u=f.length-1;u>=0;--u)if(f[u]==r[2]){f.length=u;break}if(u<0&&(!i||i==r[2]))return{tag:r[2],from:t(s,h),to:t(n.line,n.ch)}}else f.push(r[2])}}function v(n,i){for(var f=[],e,u;;){if(e=p(n),!e)return;if(e=="selfClose"){o(n);continue}var s=n.line,h=n.ch,r=o(n);if(!r)return;if(r[1])f.push(r[2]);else{for(u=f.length-1;u>=0;--u)if(f[u]==r[2]){f.length=u;break}if(u<0&&(!i||i==r[2]))return{tag:r[2],from:t(n.line,n.ch),to:t(s,h)}}}}var t=n.Pos,h="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",y=h+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",r=new RegExp("<(/?)(["+h+"]["+y+"]*)","g");n.registerHelper("fold","xml",function(n,r){for(var u=new i(n,r.line,0),o,c,l,h;;){if(o=a(u),!o||u.line!=r.line)return;if(c=e(u),!c)return;if(!o[1]&&c!="selfClose")return l=t(u.line,u.ch),h=f(u,o[2]),h&&s(h.from,l)>0?{from:l,to:h.from}:null}});n.findMatchingTag=function(n,r,u){var h=new i(n,r.line,r.ch,u),a;if(h.text.indexOf(">")!=-1||h.text.indexOf("<")!=-1){var l=e(h),y=l&&t(h.line,h.ch),c=l&&o(h);if(l&&c&&!(s(h,r)>0))return(a={from:t(h.line,h.ch),to:y,tag:c[2]},l=="selfClose")?{open:a,close:null,at:"open"}:c[1]?{open:v(h,c[2]),close:a,at:"close"}:(h=new i(n,y.line,y.ch,u),{open:a,close:f(h,c[2]),at:"open"})}};n.findEnclosingTag=function(n,t,r,u){for(var h=new i(n,t.line,t.ch,r),e,s,o;;){if(e=v(h,u),!e)break;if(s=new i(n,t.line,t.ch,r),o=f(s,e.tag),o)return{open:e,close:o}}};n.scanForClosingTag=function(n,t,r,u){var e=new i(n,t.line,t.ch,u?{from:0,to:u}:null);return f(e,r)}}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){function t(t,i,r){var f=t.getWrapperElement(),u;return u=f.appendChild(document.createElement("div")),u.className=r?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top",typeof i=="string"?u.innerHTML=i:u.appendChild(i),n.addClass(f,"dialog-opened"),u}function i(n,t){n.state.currentNotificationClose&&n.state.currentNotificationClose();n.state.currentNotificationClose=t}n.defineExtension("openDialog",function(r,u,f){function o(t){if(typeof t=="string")e.value=t;else{if(c)return;if(c=!0,n.rmClass(s.parentNode,"dialog-opened"),s.parentNode.removeChild(s),l.focus(),f.onClose)f.onClose(s)}}var e,h;f||(f={});i(this,null);var s=t(this,r,f.bottom),c=!1,l=this;if(e=s.getElementsByTagName("input")[0],e){if(e.focus(),f.value&&(e.value=f.value,f.selectValueOnOpen!==!1&&e.select()),f.onInput)n.on(e,"input",function(n){f.onInput(n,e.value,o)});if(f.onKeyUp)n.on(e,"keyup",function(n){f.onKeyUp(n,e.value,o)});n.on(e,"keydown",function(t){f&&f.onKeyDown&&f.onKeyDown(t,e.value,o)||((t.keyCode==27||f.closeOnEnter!==!1&&t.keyCode==13)&&(e.blur(),n.e_stop(t),o()),t.keyCode==13&&u(e.value,t))});if(f.closeOnBlur!==!1)n.on(s,"focusout",function(n){n.relatedTarget!==null&&o()})}else if(h=s.getElementsByTagName("button")[0]){n.on(h,"click",function(){o();l.focus()});if(f.closeOnBlur!==!1)n.on(h,"blur",o);h.focus()}return o});n.defineExtension("openConfirm",function(r,u,f){function v(){l||(l=!0,n.rmClass(o.parentNode,"dialog-opened"),o.parentNode.removeChild(o),a.focus())}var e,s;i(this,null);var o=t(this,r,f&&f.bottom),h=o.getElementsByTagName("button"),l=!1,a=this,c=1;for(h[0].focus(),e=0;e<h.length;++e){s=h[e],function(t){n.on(s,"click",function(i){n.e_preventDefault(i);v();t&&t(a)})}(u[e]);n.on(s,"blur",function(){--c;setTimeout(function(){c<=0&&v()},200)});n.on(s,"focus",function(){++c})}});n.defineExtension("openNotification",function(r,u){function e(){o||(o=!0,clearTimeout(s),n.rmClass(f.parentNode,"dialog-opened"),f.parentNode.removeChild(f))}i(this,e);var f=t(this,r,u&&u.bottom),o=!1,s,h=u&&typeof u.duration!="undefined"?u.duration:5e3;n.on(f,"click",function(t){n.e_preventDefault(t);e()});return h&&(s=setTimeout(e,h)),e})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function l(n){var t=n.flags;return t!=null?t:(n.ignoreCase?"i":"")+(n.global?"g":"")+(n.multiline?"m":"")}function r(n,t){for(var u=l(n),i=u,r=0;r<t.length;r++)i.indexOf(t.charAt(r))==-1&&(i+=t.charAt(r));return u==i?n:new RegExp(n.source,i)}function o(n){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(n.source)}function s(n,i,u){var s,f;i=r(i,"g");for(var e=u.line,o=u.ch,h=n.lastLine();e<=h;e++,o=0)if(i.lastIndex=o,s=n.getLine(e),f=i.exec(s),f)return{from:t(e,f.index),to:t(e,f.index+f[0].length),match:f}}function a(n,i,u){var f,c,l,a,v,y,e;if(!o(i))return s(n,i,u);for(i=r(i,"gm"),c=1,l=u.line,a=n.lastLine();l<=a;){for(v=0;v<c;v++){if(l>a)break;y=n.getLine(l++);f=f==null?y:f+"\n"+y}if(c=c*2,i.lastIndex=u.ch,e=i.exec(f),e){var p=f.slice(0,e.index).split("\n"),h=e[0].split("\n"),w=u.line+p.length-1,b=p[p.length-1].length;return{from:t(w,b),to:t(w+h.length-1,h.length==1?b+h[0].length:h[h.length-1].length),match:e}}}}function h(n,t,i){for(var u,f=0,r,e;f<=n.length;){if(t.lastIndex=f,r=t.exec(n),!r)break;if(e=r.index+r[0].length,e>n.length-i)break;(!u||e>u.index+u[0].length)&&(u=r);f=r.index+1}return u}function c(n,i,u){var s,f;i=r(i,"g");for(var e=u.line,o=u.ch,c=n.firstLine();e>=c;e--,o=-1)if(s=n.getLine(e),f=h(s,i,o<0?0:s.length-o),f)return{from:t(e,f.index),to:t(e,f.index+f[0].length),match:f}}function v(n,i,u){var f,a,b,e,v,y,p,s;if(!o(i))return c(n,i,u);for(i=r(i,"gm"),a=1,b=n.getLine(u.line).length-u.ch,e=u.line,v=n.firstLine();e>=v;){for(y=0;y<a&&e>=v;y++)p=n.getLine(e--),f=f==null?p:p+"\n"+f;if(a*=2,s=h(f,i,b),s){var w=f.slice(0,s.index).split("\n"),l=s[0].split("\n"),k=e+w.length,d=w[w.length-1].length;return{from:t(k,d),to:t(k+l.length-1,l.length==1?d+l[0].length:l[l.length-1].length),match:s}}}}function i(n,t,i,r){var u,e,f,o;if(n.length==t.length)return i;for(u=0,e=i+Math.max(0,n.length-t.length);;){if(u==e)return u;if(f=u+e>>1,o=r(n.slice(0,f)).length,o==i)return f;o>i?e=f:u=f+1}}function y(n,r,e,o){var h,s,v,l,y,e,w,p;if(!r.length)return null;h=o?u:f;s=h(r).split(/\r|\n\r?/);n:for(var c=e.line,a=e.ch,g=n.lastLine()+1-s.length;c<=g;c++,a=0){if(v=n.getLine(c).slice(a),l=h(v),s.length==1){if(y=l.indexOf(s[0]),y==-1)continue n;return e=i(v,l,y,h)+a,{from:t(c,i(v,l,y,h)+a),to:t(c,i(v,l,y+s[0].length,h)+a)}}if(w=l.length-s[0].length,l.slice(w)==s[0]){for(p=1;p<s.length-1;p++)if(h(n.getLine(c+p))!=s[p])continue n;var k=n.getLine(c+s.length-1),d=h(k),b=s[s.length-1];if(d.slice(0,b.length)==b)return{from:t(c,i(v,l,w,h)+a),to:t(c+s.length-1,i(k,d,b.length,h))}}}}function p(n,r,e,o){var h,s,l,a,y,p,v,e,w,b;if(!r.length)return null;h=o?u:f;s=h(r).split(/\r|\n\r?/);n:for(var c=e.line,k=e.ch,d=n.firstLine()-1+s.length;c>=d;c--,k=-1){if(l=n.getLine(c),k>-1&&(l=l.slice(0,k)),a=h(l),s.length==1){if(y=a.lastIndexOf(s[0]),y==-1)continue n;return{from:t(c,i(l,a,y,h)),to:t(c,i(l,a,y+s[0].length,h))}}if(p=s[s.length-1],a.slice(0,p.length)==p){for(v=1,e=c-s.length+1;v<s.length-1;v++)if(h(n.getLine(e+v))!=s[v])continue n;if(w=n.getLine(c+1-s.length),b=h(w),b.slice(b.length-s[0].length)==s[0])return{from:t(c+1-s.length,i(w,b,w.length-s[0].length,h)),to:t(c,i(l,a,p.length,h))}}}}function e(n,i,u,f){this.atOccurrence=!1;this.afterEmptyMatch=!1;this.doc=n;u=u?n.clipPos(u):t(0,0);this.pos={from:u,to:u};var e;typeof f=="object"?e=f.caseFold:(e=f,f=null);typeof i=="string"?(e==null&&(e=!1),this.matches=function(t,r){return(t?p:y)(n,i,r,e)}):(i=r(i,"gm"),this.matches=f&&f.multiline===!1?function(t,r){return(t?c:s)(n,i,r)}:function(t,r){return(t?v:a)(n,i,r)})}var t=n.Pos,u,f;String.prototype.normalize?(u=function(n){return n.normalize("NFD").toLowerCase()},f=function(n){return n.normalize("NFD")}):(u=function(n){return n.toLowerCase()},f=function(n){return n});e.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(i){var r=this.doc.clipPos(i?this.pos.from:this.pos.to),u,f;return this.afterEmptyMatch&&this.atOccurrence&&(r=t(r.line,r.ch),i?(r.ch--,r.ch<0&&(r.line--,r.ch=(this.doc.getLine(r.line)||"").length)):(r.ch++,r.ch>(this.doc.getLine(r.line)||"").length&&(r.ch=0,r.line++)),n.cmpPos(r,this.doc.clipPos(r))!=0)?this.atOccurrence=!1:(u=this.matches(i,r),this.afterEmptyMatch=u&&n.cmpPos(u.from,u.to)==0,u?(this.pos=u,this.atOccurrence=!0,this.pos.match||!0):(f=t(i?this.doc.firstLine():this.doc.lastLine()+1,0),this.pos={from:f,to:f},this.atOccurrence=!1))},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(i,r){if(this.atOccurrence){var u=n.splitLines(i);this.doc.replaceRange(u,this.pos.from,this.pos.to,r);this.pos.to=t(this.pos.from.line+u.length-1,u[u.length-1].length+(u.length==1?this.pos.from.ch:0))}}};n.defineExtension("getSearchCursor",function(n,t,i){return new e(this.doc,n,t,i)});n.defineDocExtension("getSearchCursor",function(n,t,i){return new e(this,n,t,i)});n.defineExtension("selectMatches",function(t,i){for(var u=[],r=this.getSearchCursor(t,this.getCursor("from"),i);r.findNext();){if(n.cmpPos(r.to(),this.getCursor("to"))>0)break;u.push({anchor:r.from(),head:r.to()})}u.length&&this.setSelections(u,0)})}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],n):n(CodeMirror)}(function(n){"use strict";function p(n,t){return typeof n=="string"?n=new RegExp(n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):n.global||(n=new RegExp(n.source,n.ignoreCase?"gi":"g")),{token:function(t){n.lastIndex=t.pos;var i=n.exec(t.string);if(i&&i.index==t.pos)return t.pos+=i[0].length||1,"searching";i?t.pos=i.index:t.skipToEnd()}}}function w(){this.posFrom=this.posTo=this.lastQuery=this.query=null;this.overlay=null}function r(n){return n.state.search||(n.state.search=new w)}function e(n){return typeof n=="string"&&n==n.toLowerCase()}function u(n,t,i){return n.getSearchCursor(t,i,{caseFold:e(t),multiline:!0})}function b(n,t,i,r,u){n.openDialog(t,r,{value:i,selectValueOnOpen:!0,closeOnEnter:!1,onClose:function(){f(n)},onKeyDown:u,bottom:n.options.search.bottom})}function h(n,t,i,r,u){n.openDialog?n.openDialog(t,u,{value:r,selectValueOnOpen:!0,bottom:n.options.search.bottom}):u(prompt(i,r))}function k(n,t,i,r){n.openConfirm?n.openConfirm(t,r):confirm(i)&&r[0]()}function c(n){return n.replace(/\\([nrt\\])/g,function(n,t){return t=="n"?"\n":t=="r"?"\r":t=="t"?"\t":t=="\\"?"\\":n})}function l(n){var t=n.match(/^\/(.*)\/([a-z]*)$/);if(t)try{n=new RegExp(t[1],t[2].indexOf("i")==-1?"":"i")}catch(i){}else n=c(n);return(typeof n=="string"?n=="":n.test(""))&&(n=/x^/),n}function o(n,t,i){t.queryText=i;t.query=l(i);n.removeOverlay(t.overlay,e(t.query));t.overlay=p(t.query,e(t.query));n.addOverlay(t.overlay);n.showMatchesOnScrollbar&&(t.annotate&&(t.annotate.clear(),t.annotate=null),t.annotate=n.showMatchesOnScrollbar(t.query,e(t.query)))}function i(t,i,u,f){var e=r(t),c,l,v;if(e.query)return s(t,i);c=t.getSelection()||e.lastQuery;c instanceof RegExp&&c.source=="x^"&&(c=null);u&&t.openDialog?(l=null,v=function(i,r){(n.e_stop(r),i)&&(i!=e.queryText&&(o(t,e,i),e.posFrom=e.posTo=t.getCursor()),l&&(l.style.opacity=1),s(t,r.shiftKey,function(n,i){var r;i.line<3&&document.querySelector&&(r=t.display.wrapper.querySelector(".CodeMirror-dialog"))&&r.getBoundingClientRect().bottom-4>t.cursorCoords(i,"window").top&&((l=r).style.opacity=.4)}))},b(t,a(t),c,v,function(i,u){var e=n.keyName(i),s=t.getOption("extraKeys"),f=s&&s[e]||n.keyMap[t.getOption("keyMap")][e];f=="findNext"||f=="findPrev"||f=="findPersistentNext"||f=="findPersistentPrev"?(n.e_stop(i),o(t,r(t),u),t.execCommand(f)):(f=="find"||f=="findPersistent")&&(n.e_stop(i),v(u,i))}),f&&c&&(o(t,e,c),s(t,i))):h(t,a(t),"Search for:",c,function(n){n&&!e.query&&t.operation(function(){o(t,e,n);e.posFrom=e.posTo=t.getCursor();s(t,i)})})}function s(t,i,f){t.operation(function(){var o=r(t),e=u(t,o.query,i?o.posFrom:o.posTo);(e.find(i)||(e=u(t,o.query,i?n.Pos(t.lastLine()):n.Pos(t.firstLine(),0)),e.find(i)))&&(t.setSelection(e.from(),e.to()),t.scrollIntoView({from:e.from(),to:e.to()},20),o.posFrom=e.from(),o.posTo=e.to(),f&&f(e.from(),e.to()))})}function f(n){n.operation(function(){var t=r(n);(t.lastQuery=t.query,t.query)&&(t.query=t.queryText=null,n.removeOverlay(t.overlay),t.annotate&&(t.annotate.clear(),t.annotate=null))})}function t(n,t){var u=n?document.createElement(n):document.createDocumentFragment(),f,i,r;for(f in t)u[f]=t[f];for(i=2;i<arguments.length;i++)r=arguments[i],u.appendChild(typeof r=="string"?document.createTextNode(r):r);return u}function a(n){return t("",null,t("span",{className:"CodeMirror-search-label"},n.phrase("Search:"))," ",t("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",t("span",{style:"color: #888",className:"CodeMirror-search-hint"},n.phrase("(Use /re/ syntax for regexp search)")))}function d(n){return t("",null," ",t("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"})," ",t("span",{style:"color: #888",className:"CodeMirror-search-hint"},n.phrase("(Use /re/ syntax for regexp search)")))}function g(n){return t("",null,t("span",{className:"CodeMirror-search-label"},n.phrase("With:"))," ",t("input",{type:"text",style:"width: 10em",className:"CodeMirror-search-field"}))}function nt(n){return t("",null,t("span",{className:"CodeMirror-search-label"},n.phrase("Replace?"))," ",t("button",{},n.phrase("Yes"))," ",t("button",{},n.phrase("No"))," ",t("button",{},n.phrase("All"))," ",t("button",{},n.phrase("Stop")))}function v(n,t,i){n.operation(function(){for(var f,r=u(n,t);r.findNext();)typeof t!="string"?(f=n.getRange(r.from(),r.to()).match(t),r.replace(i.replace(/\$(\d)/g,function(n,t){return f[t]}))):r.replace(i)})}function y(n,i){if(!n.getOption("readOnly")){var o=n.getSelection()||r(n).lastQuery,e=i?n.phrase("Replace all:"):n.phrase("Replace:"),s=t("",null,t("span",{className:"CodeMirror-search-label"},e),d(n));h(n,s,e,o,function(t){t&&(t=l(t),h(n,g(n),n.phrase("Replace with:"),"",function(r){if(r=c(r),i)v(n,t,r);else{f(n);var e=u(n,t,n.getCursor("from")),o=function(){var i=e.from(),f;((f=e.findNext())||(e=u(n,t),(f=e.findNext())&&(!i||e.from().line!=i.line||e.from().ch!=i.ch)))&&(n.setSelection(e.from(),e.to()),n.scrollIntoView({from:e.from(),to:e.to()}),k(n,nt(n),n.phrase("Replace?"),[function(){s(f)},o,function(){v(n,t,r)}]))},s=function(n){e.replace(typeof t=="string"?r:r.replace(/\$(\d)/g,function(t,i){return n[i]}));o()};o()}}))})}}n.defineOption("search",{bottom:!1});n.commands.find=function(n){f(n);i(n)};n.commands.findPersistent=function(n){f(n);i(n,!1,!0)};n.commands.findPersistentNext=function(n){i(n,!1,!0,!0)};n.commands.findPersistentPrev=function(n){i(n,!0,!0,!0)};n.commands.findNext=i;n.commands.findPrev=function(n){i(n,!0)};n.commands.clearSearch=f;n.commands.replace=y;n.commands.replaceAll=function(n){y(n,!0)}}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)}(function(n){"use strict";function t(n,t){function r(n){clearTimeout(i.doRedraw);i.doRedraw=setTimeout(function(){i.redraw()},n)}this.cm=n;this.options=t;this.buttonHeight=t.scrollButtonHeight||n.getOption("scrollButtonHeight");this.annotations=[];this.doRedraw=this.doUpdate=null;this.div=n.getWrapperElement().appendChild(document.createElement("div"));this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none";this.computeScale();var i=this;n.on("refresh",this.resizeHandler=function(){clearTimeout(i.doUpdate);i.doUpdate=setTimeout(function(){i.computeScale()&&r(20)},100)});n.on("markerAdded",this.resizeHandler);n.on("markerCleared",this.resizeHandler);if(t.listenForChanges!==!1)n.on("changes",this.changeHandler=function(){r(250)})}n.defineExtension("annotateScrollbar",function(n){return typeof n=="string"&&(n={className:n}),new t(this,n)});n.defineOption("scrollButtonHeight",0);t.prototype.computeScale=function(){var n=this.cm,t=(n.getWrapperElement().clientHeight-n.display.barHeight-this.buttonHeight*2)/n.getScrollerElement().scrollHeight;if(t!=this.hScale)return this.hScale=t,!0};t.prototype.update=function(n){this.annotations=n;this.redraw()};t.prototype.redraw=function(n){function s(n,r){var u,f;return(l!=n.line&&(l=n.line,i=t.getLineHandle(n.line),u=t.getLineHandleVisualStart(i),u!=i&&(l=t.getLineNumber(u),i=u)),i.widgets&&i.widgets.length||p&&i.height>b)?t.charCoords(n,"local")[r?"top":"bottom"]:(f=t.heightAtLine(i,"local"),f+(r?0:i.height))}var a,r,v,u,h,e,w,c;n!==!1&&this.computeScale();var t=this.cm,o=this.hScale,y=document.createDocumentFragment(),f=this.annotations,p=t.getOption("lineWrapping"),b=p&&t.defaultTextHeight()*1.5,l=null,i=null;if(a=t.lastLine(),t.display.barWidth)for(r=0;r<f.length;r++)if(u=f[r],!(u.to.line>a)){for(h=v||s(u.from,!0)*o,e=s(u.to,!1)*o;r<f.length-1;){if(f[r+1].to.line>a)break;if(v=s(f[r+1].from,!0)*o,v>e+.9)break;u=f[++r];e=s(u.to,!1)*o}e!=h&&(w=Math.max(e-h,3),c=y.appendChild(document.createElement("div")),c.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(h+this.buttonHeight)+"px; height: "+w+"px",c.className=this.options.className,u.id&&c.setAttribute("annotation-id",u.id))}this.div.textContent="";this.div.appendChild(y)};t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler);this.cm.off("markerAdded",this.resizeHandler);this.cm.off("markerCleared",this.resizeHandler);this.changeHandler&&this.cm.off("changes",this.changeHandler);this.div.parentNode.removeChild(this.div)}}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("./searchcursor"),require("../scroll/annotatescrollbar")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","./searchcursor","../scroll/annotatescrollbar"],n):n(CodeMirror)}(function(n){"use strict";function t(n,t,i,r){var u,f,e;this.cm=n;this.options=r;u={listenForChanges:!1};for(f in r)u[f]=r[f];u.className||(u.className="CodeMirror-search-match");this.annotation=n.annotateScrollbar(u);this.query=t;this.caseFold=i;this.gap={from:n.firstLine(),to:n.lastLine()+1};this.matches=[];this.update=null;this.findMatches();this.annotation.update(this.matches);e=this;n.on("change",this.changeHandler=function(n,t){e.onChange(t)})}function i(n,t,i){return n<=t?n:Math.max(t,n+i)}n.defineExtension("showMatchesOnScrollbar",function(n,i,r){return typeof r=="string"&&(r={className:r}),r||(r={}),new t(this,n,i,r)});var r=1e3;t.prototype.findMatches=function(){var t,u,f,i;if(this.gap){for(t=0;t<this.matches.length;t++){if(i=this.matches[t],i.from.line>=this.gap.to)break;i.to.line>=this.gap.from&&this.matches.splice(t--,1)}for(u=this.cm.getSearchCursor(this.query,n.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),f=this.options&&this.options.maxMatches||r;u.findNext();){if(i={from:u.from(),to:u.to()},i.from.line>=this.gap.to)break;if(this.matches.splice(t++,0,i),this.matches.length>f)break}this.gap=null}};t.prototype.onChange=function(t){var f=t.from.line,h=n.changeEnd(t).line,u=h-t.to.line,e,r,o,s,c;if(this.gap?(this.gap.from=Math.min(i(this.gap.from,f,u),t.from.line),this.gap.to=Math.max(i(this.gap.to,f,u),t.from.line)):this.gap={from:t.from.line,to:h+1},u)for(e=0;e<this.matches.length;e++)r=this.matches[e],o=i(r.from.line,f,u),o!=r.from.line&&(r.from=n.Pos(o,r.from.ch)),s=i(r.to.line,f,u),s!=r.to.line&&(r.to=n.Pos(s,r.to.ch));clearTimeout(this.update);c=this;this.update=setTimeout(function(){c.updateAfterChange()},250)};t.prototype.updateAfterChange=function(){this.findMatches();this.annotation.update(this.matches)};t.prototype.clear=function(){this.cm.off("change",this.changeHandler);this.annotation.clear()}}),function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../dialog/dialog")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],n):n(CodeMirror)}(function(n){"use strict";function i(n,t,i,r,u){n.openDialog?n.openDialog(t,u,{value:r,selectValueOnOpen:!0,bottom:n.options.search.bottom}):u(prompt(i,r))}function r(n){return n.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+n.phrase("(Use line:column or scroll% syntax)")+"<\/span>"}function t(n,t){var i=Number(t);return/^[-+]/.test(t)?n.getCursor().line+i:i-1}n.defineOption("search",{bottom:!1});n.commands.jumpToLine=function(n){var u=n.getCursor();i(n,r(n),n.phrase("Jump to line:"),u.line+1+":"+u.ch,function(i){var r,f;i&&((r=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(i))?n.setCursor(t(n,r[1]),Number(r[2])):(r=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(i))?(f=Math.round(n.lineCount()*Number(r[1])/100),/^[-+]/.test(r[1])&&(f=u.line+f+1),n.setCursor(f-1,u.ch)):(r=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(i))&&n.setCursor(t(n,r[1]),u.ch))})};n.keyMap["default"]["Alt-G"]="jumpToLine"});