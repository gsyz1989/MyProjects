function runHtml(){var t=editor.getValue(),n=parent.destFrame.document;old!=t&&(old=t,n.open(),n.write(old),n.close(),saveConfig());isAutoRun&&window.setTimeout(runHtml,150)}function example(){var n=`<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>锤子在线工具(toolhelper.cn)</title>
</head>
<body>
	<p id="demo">单击按钮显示指定 UTF-8 编码的字符。</p>
	<button onclick="myFunction()">点我</button>
	<script>
		function myFunction(){
			var n=String.fromCharCode(72,69,76,76,79);
			document.getElementById("demo").innerHTML=n;
		}
	</script>
</body>
</html>`;saveConfig(n)}function format(){var n,t,i;editor!=null&&editor&&((n=editor.getValue(),n=ys.trim(n," "),ys.isNullOrEmpty(n))||(t=1,i="\t",n=html_beautify(n,{indent_inner_html:!1,indent_size:t,indent_char:i,wrap_line_length:300,brace_style:"expand",preserve_newlines:!1,max_preserve_newlines:5,indent_handlebars:!1,extra_liners:["/none"]}),saveConfig(n)))}function download(){ys.downloadBlob(editor.getValue(),"html-preview.html","text/html;charset=utf-8;")}function saveConfig(n){n?(editor.setValue(n),updateWordCountForTextareaCodeMirror($("#txtInput"),n.length)):n=editor.getValue();var t={};t.input=n;config_html_preview=ys.setConfig(nameOf(()=>config_html_preview),JSON.stringify(t))}function autoDivHeight(){var n=0;window.innerHeight?n=window.innerHeight:document.body&&document.body.clientHeight&&(n=document.body.clientHeight);document.documentElement&&document.documentElement.clientHeight&&(n=document.documentElement.clientHeight);height=n*.68+4;editor.setSize("100%",height+28);document.getElementById("destFrame").style.height=height+"px"}function getStyleValue(n,t){return window.getComputedStyle?window.getComputedStyle(n,null).getPropertyValue(t):n.currentStyle[t]}function htmlDecode(){var n=editor.getValue();n=ys.htmlSpecialCharDecode(n);saveConfig(n)}var config_html_preview={input:""},codeMirrorTextAreaMap=[],editor=null,old="",isAutoRun=!0;window.pageLoad=function(){hideNavigate();initShareLinkParam(nameOf(()=>config_html_preview));config_html_preview=ys.loadConfig("form",nameOf(()=>config_html_preview),config_html_preview);editor=CodeMirror.fromTextArea(document.getElementById("txtInput"),{lineNumbers:!0,matchBrackets:!0,mode:"text/html",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{F11:function(n){n.setOption("fullScreen",!n.getOption("fullScreen"))},Esc:function(n){n.getOption("fullScreen")&&n.setOption("fullScreen",!1)}}});editor.on("keyup",function(){var n=editor.getValue();updateWordCountForTextareaCodeMirror($("#txtInput"),n.length)});codeMirrorTextAreaMap.push({txtInput:editor});var n=$(window).height()-ys.getElementActualHeight("divUp")-adHeight-pagePadding;n=getEditorMinHeight(n);$(".CodeMirror").css("height",n);$(".CodeMirror-wrap").css("height",n);config_html_preview.input&&editor.setValue(config_html_preview.input);window.addEventListener("resize",autoDivHeight);autoDivHeight();Split(["#split-0","#split-1"]);isAutoRun&&runHtml()};