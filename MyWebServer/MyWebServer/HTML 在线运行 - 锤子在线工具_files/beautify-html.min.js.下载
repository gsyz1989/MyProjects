(function(){var t,n,i,r;(function(){"use strict";function i(t){var f=n[t],u;return f!==undefined?f.exports:(u=n[t]={exports:{}},r[t](u,u.exports,i),u.exports)}var r=[,,function(n){function t(n){this.__parent=n;this.__character_count=0;this.__indent_count=-1;this.__alignment_count=0;this.__wrap_point_index=0;this.__wrap_point_character_count=0;this.__wrap_point_indent_count=-1;this.__wrap_point_alignment_count=0;this.__items=[]}function r(n,t){this.__cache=[""];this.__indent_size=n.indent_size;this.__indent_string=n.indent_char;n.indent_with_tabs||(this.__indent_string=new Array(n.indent_size+1).join(n.indent_char));t=t||"";n.indent_level>0&&(t=new Array(n.indent_level+1).join(this.__indent_string));this.__base_string=t;this.__base_string_length=t.length}function i(n,i){this.__indent_cache=new r(n,i);this.raw=!1;this._end_with_newline=n.end_with_newline;this.indent_size=n.indent_size;this.wrap_line_length=n.wrap_line_length;this.indent_empty_lines=n.indent_empty_lines;this.__lines=[];this.previous_line=null;this.current_line=null;this.next_line=new t(this);this.space_before_token=!1;this.non_breaking_space=!1;this.previous_token_wrapped=!1;this.__add_outputline()}t.prototype.clone_empty=function(){var n=new t(this.__parent);return n.set_indent(this.__indent_count,this.__alignment_count),n};t.prototype.item=function(n){return n<0?this.__items[this.__items.length+n]:this.__items[n]};t.prototype.has_match=function(n){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(n))return!0;return!1};t.prototype.set_indent=function(n,t){this.is_empty()&&(this.__indent_count=n||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))};t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)};t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count};t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var n=this.__parent.current_line;return n.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),n.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),n.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,n.__items[0]===" "&&(n.__items.splice(0,1),n.__character_count-=1),!0}return!1};t.prototype.is_empty=function(){return this.__items.length===0};t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]};t.prototype.push=function(n){this.__items.push(n);var t=n.lastIndexOf("\n");t!==-1?this.__character_count=n.length-t:this.__character_count+=n.length};t.prototype.pop=function(){var n=null;return this.is_empty()||(n=this.__items.pop(),this.__character_count-=n.length),n};t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)};t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)};t.prototype.trim=function(){while(this.last()===" ")this.__items.pop(),this.__character_count-=1};t.prototype.toString=function(){var n="";return this.is_empty()?this.__parent.indent_empty_lines&&(n=this.__parent.get_indent_string(this.__indent_count)):n=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count)+this.__items.join(""),n};r.prototype.get_indent_size=function(n,t){var i=this.__base_string_length;return t=t||0,n<0&&(i=0),i+=n*this.__indent_size,i+t};r.prototype.get_indent_string=function(n,t){var i=this.__base_string;return t=t||0,n<0&&(n=0,i=""),t+=n*this.__indent_size,this.__ensure_cache(t),i+this.__cache[t]};r.prototype.__ensure_cache=function(n){while(n>=this.__cache.length)this.__add_column()};r.prototype.__add_column=function(){var n=this.__cache.length,t=0,i="";this.__indent_size&&n>=this.__indent_size&&(t=Math.floor(n/this.__indent_size),n-=t*this.__indent_size,i=new Array(t+1).join(this.__indent_string));n&&(i+=new Array(n+1).join(" "));this.__cache.push(i)};i.prototype.__add_outputline=function(){this.previous_line=this.current_line;this.current_line=this.next_line.clone_empty();this.__lines.push(this.current_line)};i.prototype.get_line_number=function(){return this.__lines.length};i.prototype.get_indent_string=function(n,t){return this.__indent_cache.get_indent_string(n,t)};i.prototype.get_indent_size=function(n,t){return this.__indent_cache.get_indent_size(n,t)};i.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()};i.prototype.add_new_line=function(n){return this.is_empty()||!n&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)};i.prototype.get_code=function(n){var t,i;return this.trim(!0),t=this.current_line.pop(),t&&(t[t.length-1]==="\n"&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline(),i=this.__lines.join("\n"),n!=="\n"&&(i=i.replace(/[\n]/g,n)),i};i.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()};i.prototype.set_indent=function(n,t){return(n=n||0,t=t||0,this.next_line.set_indent(n,t),this.__lines.length>1)?(this.current_line.set_indent(n,t),!0):(this.current_line.set_indent(),!1)};i.prototype.add_raw_token=function(n){for(var t=0;t<n.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1);this.current_line.push(n.whitespace_before);this.current_line.push(n.text);this.space_before_token=!1;this.non_breaking_space=!1;this.previous_token_wrapped=!1};i.prototype.add_token=function(n){this.__add_space_before_token();this.current_line.push(n);this.space_before_token=!1;this.non_breaking_space=!1;this.previous_token_wrapped=this.current_line._allow_wrap()};i.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))};i.prototype.remove_indent=function(n){for(var t=this.__lines.length;n<t;)this.__lines[n]._remove_indent(),n++;this.current_line._remove_wrap_indent()};i.prototype.trim=function(n){for(n=n===undefined?!1:n,this.current_line.trim();n&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null};i.prototype.just_added_newline=function(){return this.current_line.is_empty()};i.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()};i.prototype.ensure_empty_line_above=function(n,i){for(var r=this.__lines.length-2,u;r>=0;){if(u=this.__lines[r],u.is_empty())break;else if(u.item(0).indexOf(n)!==0&&u.item(-1)!==i){this.__lines.splice(r+1,0,new t(this));this.previous_line=this.__lines[this.__lines.length-2];break}r--}};n.exports.Output=i},function(n){function t(n,t,i,r){this.type=n;this.text=t;this.comments_before=null;this.newlines=i||0;this.whitespace_before=r||"";this.parent=null;this.next=null;this.previous=null;this.opened=null;this.closed=null;this.directives=null}n.exports.Token=t},,,function(n){function t(n,t){this.raw_options=i(n,t);this.disabled=this._get_boolean("disabled");this.eol=this._get_characters("eol","auto");this.end_with_newline=this._get_boolean("end_with_newline");this.indent_size=this._get_number("indent_size",4);this.indent_char=this._get_characters("indent_char"," ");this.indent_level=this._get_number("indent_level");this.preserve_newlines=this._get_boolean("preserve_newlines",!0);this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786);this.preserve_newlines||(this.max_preserve_newlines=0);this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="\t");this.indent_with_tabs&&(this.indent_char="\t",this.indent_size===1&&(this.indent_size=4));this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char"));this.indent_empty_lines=this._get_boolean("indent_empty_lines");this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}function i(n,t){var u={},i;n=r(n);for(i in n)i!==t&&(u[i]=n[i]);if(t&&n[t])for(i in n[t])u[i]=n[t][i];return u}function r(n){var i={},t,r;for(t in n)r=t.replace(/-/g,"_"),i[r]=n[t];return i}t.prototype._get_array=function(n,t){var i=this.raw_options[n],r=t||[];return typeof i=="object"?i!==null&&typeof i.concat=="function"&&(r=i.concat()):typeof i=="string"&&(r=i.split(/[^a-zA-Z0-9_\/\-]+/)),r};t.prototype._get_boolean=function(n,t){var i=this.raw_options[n];return i===undefined?!!t:!!i};t.prototype._get_characters=function(n,t){var i=this.raw_options[n],r=t||"";return typeof i=="string"&&(r=i.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),r};t.prototype._get_number=function(n,t){var r=this.raw_options[n],i;return t=parseInt(t,10),isNaN(t)&&(t=0),i=parseInt(r,10),isNaN(i)&&(i=t),i};t.prototype._get_selection=function(n,t,i){var r=this._get_selection_list(n,t,i);if(r.length!==1)throw new Error("Invalid Option Value: The option '"+n+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[n]+"'");return r[0]};t.prototype._get_selection_list=function(n,t,i){if(!t||t.length===0)throw new Error("Selection list cannot be empty.");if(i=i||[t[0]],!this._is_valid_selection(i,t))throw new Error("Invalid Default Value!");var r=this._get_array(n,i);if(!this._is_valid_selection(r,t))throw new Error("Invalid Option Value: The option '"+n+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[n]+"'");return r};t.prototype._is_valid_selection=function(n,t){return n.length&&t.length&&!n.some(function(n){return t.indexOf(n)===-1})};n.exports.Options=t;n.exports.normalizeOpts=r;n.exports.mergeOpts=i},,function(n){function t(n){this.__input=n||"";this.__input_length=this.__input.length;this.__position=0}var i=RegExp.prototype.hasOwnProperty("sticky");t.prototype.restart=function(){this.__position=0};t.prototype.back=function(){this.__position>0&&(this.__position-=1)};t.prototype.hasNext=function(){return this.__position<this.__input_length};t.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__input.charAt(this.__position),this.__position+=1),n};t.prototype.peek=function(n){var t=null;return n=n||0,n+=this.__position,n>=0&&n<this.__input_length&&(t=this.__input.charAt(n)),t};t.prototype.__match=function(n,t){n.lastIndex=t;var r=n.exec(this.__input);return!r||i&&n.sticky||r.index!==t&&(r=null),r};t.prototype.test=function(n,t){return t=t||0,t+=this.__position,t>=0&&t<this.__input_length?!!this.__match(n,t):!1};t.prototype.testChar=function(n,t){var i=this.peek(t);return n.lastIndex=0,i!==null&&n.test(i)};t.prototype.match=function(n){var t=this.__match(n,this.__position);return t?this.__position+=t[0].length:t=null,t};t.prototype.read=function(n,t,i){var u="",r;return n&&(r=this.match(n),r&&(u+=r[0])),t&&(r||!n)&&(u+=this.readUntil(t,i)),u};t.prototype.readUntil=function(n,t){var u="",i=this.__position,r;return n.lastIndex=this.__position,r=n.exec(this.__input),r?(i=r.index,t&&(i+=r[0].length)):i=this.__input_length,u=this.__input.substring(this.__position,i),this.__position=i,u};t.prototype.readUntilAfter=function(n){return this.readUntil(n,!0)};t.prototype.get_regexp=function(n,t){var r=null,u="g";return t&&i&&(u="y"),typeof n=="string"&&n!==""?r=new RegExp(n,u):n&&(r=new RegExp(n.source,u)),r};t.prototype.get_literal_regexp=function(n){return RegExp(n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))};t.prototype.peekUntilAfter=function(n){var t=this.__position,i=this.readUntilAfter(n);return this.__position=t,i};t.prototype.lookBack=function(n){var t=this.__position-1;return t>=n.length&&this.__input.substring(t-n.length,t).toLowerCase()===n};n.exports.InputScanner=t},function(n,t,i){var o=i(8).InputScanner,e=i(3).Token,f=i(10).TokenStream,s=i(11).WhitespacePattern,u={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},r=function(n,t){this._input=new o(n);this._options=t||{};this.__tokens=null;this._patterns={};this._patterns.whitespace=new s(this._input)};r.prototype.tokenize=function(){this._input.restart();this.__tokens=new f;this._reset();for(var n,i=new e(u.START,""),t=null,o=[],r=new f;i.type!==u.EOF;){for(n=this._get_next_token(i,t);this._is_comment(n);)r.add(n),n=this._get_next_token(i,t);r.isEmpty()||(n.comments_before=r,r=new f);n.parent=t;this._is_opening(n)?(o.push(t),t=n):t&&this._is_closing(n,t)&&(n.opened=t,t.closed=n,t=o.pop(),n.parent=t);n.previous=i;i.next=n;this.__tokens.add(n);i=n}return this.__tokens};r.prototype._is_first_token=function(){return this.__tokens.isEmpty()};r.prototype._reset=function(){};r.prototype._get_next_token=function(){this._readWhitespace();var n=this._input.read(/.+/g);return n?this._create_token(u.RAW,n):this._create_token(u.EOF,"")};r.prototype._is_comment=function(){return!1};r.prototype._is_opening=function(){return!1};r.prototype._is_closing=function(){return!1};r.prototype._create_token=function(n,t){return new e(n,t,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token)};r.prototype._readWhitespace=function(){return this._patterns.whitespace.read()};n.exports.Tokenizer=r;n.exports.TOKEN=u},function(n){function t(n){this.__tokens=[];this.__tokens_length=this.__tokens.length;this.__position=0;this.__parent_token=n}t.prototype.restart=function(){this.__position=0};t.prototype.isEmpty=function(){return this.__tokens_length===0};t.prototype.hasNext=function(){return this.__position<this.__tokens_length};t.prototype.next=function(){var n=null;return this.hasNext()&&(n=this.__tokens[this.__position],this.__position+=1),n};t.prototype.peek=function(n){var t=null;return n=n||0,n+=this.__position,n>=0&&n<this.__tokens_length&&(t=this.__tokens[n]),t};t.prototype.add=function(n){this.__parent_token&&(n.parent=this.__parent_token);this.__tokens.push(n);this.__tokens_length+=1};n.exports.TokenStream=t},function(n,t,i){function r(n,t){u.call(this,n,t);t?this._line_regexp=this._input.get_regexp(t._line_regexp):this.__set_whitespace_patterns("","");this.newline_count=0;this.whitespace_before_token=""}var u=i(12).Pattern;r.prototype=new u;r.prototype.__set_whitespace_patterns=function(n,t){n+="\\t ";t+="\\n\\r";this._match_pattern=this._input.get_regexp("["+n+t+"]+",!0);this._newline_regexp=this._input.get_regexp("\\r\\n|["+t+"]")};r.prototype.read=function(){var n,t;return this.newline_count=0,this.whitespace_before_token="",n=this._input.read(this._match_pattern),n===" "?this.whitespace_before_token=" ":n&&(t=this.__split(this._newline_regexp,n),this.newline_count=t.length-1,this.whitespace_before_token=t[this.newline_count]),n};r.prototype.matching=function(n,t){var i=this._create();return i.__set_whitespace_patterns(n,t),i._update(),i};r.prototype._create=function(){return new r(this._input,this)};r.prototype.__split=function(n,t){n.lastIndex=0;for(var r=0,u=[],i=n.exec(t);i;)u.push(t.substring(r,i.index)),r=i.index+i[0].length,i=n.exec(t);return r<t.length?u.push(t.substring(r,t.length)):u.push(""),u};n.exports.WhitespacePattern=r},function(n){function t(n,t){this._input=n;this._starting_pattern=null;this._match_pattern=null;this._until_pattern=null;this._until_after=!1;t&&(this._starting_pattern=this._input.get_regexp(t._starting_pattern,!0),this._match_pattern=this._input.get_regexp(t._match_pattern,!0),this._until_pattern=this._input.get_regexp(t._until_pattern),this._until_after=t._until_after)}t.prototype.read=function(){var n=this._input.read(this._starting_pattern);return(!this._starting_pattern||n)&&(n+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),n};t.prototype.read_match=function(){return this._input.match(this._match_pattern)};t.prototype.until_after=function(n){var t=this._create();return t._until_after=!0,t._until_pattern=this._input.get_regexp(n),t._update(),t};t.prototype.until=function(n){var t=this._create();return t._until_after=!1,t._until_pattern=this._input.get_regexp(n),t._update(),t};t.prototype.starting_with=function(n){var t=this._create();return t._starting_pattern=this._input.get_regexp(n,!0),t._update(),t};t.prototype.matching=function(n){var t=this._create();return t._match_pattern=this._input.get_regexp(n,!0),t._update(),t};t.prototype._create=function(){return new t(this._input,this)};t.prototype._update=function(){};n.exports.Pattern=t},function(n){function t(n,t){n=typeof n=="string"?n:n.source;t=typeof t=="string"?t:t.source;this.__directives_block_pattern=new RegExp(n+/ beautify( \w+[:]\w+)+ /.source+t,"g");this.__directive_pattern=/ (\w+)[:](\w+)/g;this.__directives_end_ignore_pattern=new RegExp(n+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(n){var i,t;if(!n.match(this.__directives_block_pattern))return null;for(i={},this.__directive_pattern.lastIndex=0,t=this.__directive_pattern.exec(n);t;)i[t[1]]=t[2],t=this.__directive_pattern.exec(n);return i};t.prototype.readIgnored=function(n){return n.readUntilAfter(this.__directives_end_ignore_pattern)};n.exports.Directives=t},function(n,t,i){function r(n,t){u.call(this,n,t);this.__template_pattern=null;this._disabled=Object.assign({},f);this._excluded=Object.assign({},f);t&&(this.__template_pattern=this._input.get_regexp(t.__template_pattern),this._excluded=Object.assign(this._excluded,t._excluded),this._disabled=Object.assign(this._disabled,t._disabled));var i=new u(n);this.__patterns={handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:i.starting_with(/{{{/).until_after(/}}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),php:i.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:i.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:i.starting_with(/{%/).until_after(/%}/),django_value:i.starting_with(/{{/).until_after(/}}/),django_comment:i.starting_with(/{#/).until_after(/#}/),smarty:i.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:i.starting_with(/{\*/).until_after(/\*}/),smarty_literal:i.starting_with(/{literal}/).until_after(/{\/literal}/)}}var u=i(12).Pattern,f={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};r.prototype=new u;r.prototype._create=function(){return new r(this._input,this)};r.prototype._update=function(){this.__set_templated_pattern()};r.prototype.disable=function(n){var t=this._create();return t._disabled[n]=!0,t._update(),t};r.prototype.read_options=function(n){var t=this._create();for(var i in f)t._disabled[i]=n.templating.indexOf(i)===-1;return t._update(),t};r.prototype.exclude=function(n){var t=this._create();return t._excluded[n]=!0,t._update(),t};r.prototype.read=function(){for(var t="",t=this._match_pattern?this._input.read(this._starting_pattern):this._input.read(this._starting_pattern,this.__template_pattern),n=this._read_template();n;)n+=this._match_pattern?this._input.read(this._match_pattern):this._input.readUntil(this.__template_pattern),t+=n,n=this._read_template();return this._until_after&&(t+=this._input.readUntilAfter(this._until_pattern)),t};r.prototype.__set_templated_pattern=function(){var n=[];this._disabled.php||n.push(this.__patterns.php._starting_pattern.source);this._disabled.handlebars||n.push(this.__patterns.handlebars._starting_pattern.source);this._disabled.erb||n.push(this.__patterns.erb._starting_pattern.source);this._disabled.django||(n.push(this.__patterns.django._starting_pattern.source),n.push(this.__patterns.django_value._starting_pattern.source),n.push(this.__patterns.django_comment._starting_pattern.source));this._disabled.smarty||n.push(this.__patterns.smarty._starting_pattern.source);this._until_pattern&&n.push(this._until_pattern.source);this.__template_pattern=this._input.get_regexp("(?:"+n.join("|")+")")};r.prototype._read_template=function(){var n="",i=this._input.peek(),t;return i==="<"?(t=this._input.peek(1),this._disabled.php||this._excluded.php||t!=="?"||(n=n||this.__patterns.php.read()),this._disabled.erb||this._excluded.erb||t!=="%"||(n=n||this.__patterns.erb.read())):i==="{"&&(this._disabled.handlebars||this._excluded.handlebars||(n=n||this.__patterns.handlebars_comment.read(),n=n||this.__patterns.handlebars_unescaped.read(),n=n||this.__patterns.handlebars.read()),this._disabled.django||(this._excluded.django||this._excluded.handlebars||(n=n||this.__patterns.django_value.read()),this._excluded.django||(n=n||this.__patterns.django_comment.read(),n=n||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(n=n||this.__patterns.smarty_comment.read(),n=n||this.__patterns.smarty_literal.read(),n=n||this.__patterns.smarty.read())),n};n.exports.TemplatablePattern=r},,,,function(n,t,i){function f(n,t,i,u){var f=new r(n,t,i,u);return f.beautify()}var r=i(19).Beautifier,u=i(20).Options;n.exports=f;n.exports.defaultOptions=function(){return new u}},function(n,t,i){function o(n,t){return t.indexOf(n)!==-1}function k(n,t,i){this.parent=n||null;this.tag=t?t.tag_name:"";this.indent_level=i||0;this.parser_token=t||null}function e(n){this._printer=n;this._current_frame=null}function u(n,t,i,r){this._source_text=n||"";t=t||{};this._js_beautify=i;this._css_beautify=r;this._tag_stack=null;var u=new y(t,"html");this._options=u;this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force";this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline";this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned";this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple";this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve";this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}var y=i(20).Options,p=i(2).Output,w=i(21).Tokenizer,r=i(21).TOKEN,h=/\r\n|[\r\n]/,b=/\r\n|[\r\n]/g,f=function(n,t){this.indent_level=0;this.alignment_size=0;this.max_preserve_newlines=n.max_preserve_newlines;this.preserve_newlines=n.preserve_newlines;this._output=new p(n,t)},c,l,s,a,v;f.prototype.current_line_has_match=function(n){return this._output.current_line.has_match(n)};f.prototype.set_space_before_token=function(n,t){this._output.space_before_token=n;this._output.non_breaking_space=t};f.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size);this._output.set_wrap_point()};f.prototype.add_raw_token=function(n){this._output.add_raw_token(n)};f.prototype.print_preserved_newlines=function(n){var t=0,i;for(n.type!==r.TEXT&&n.previous.type!==r.TEXT&&(t=n.newlines?1:0),this.preserve_newlines&&(t=n.newlines<this.max_preserve_newlines+1?n.newlines:this.max_preserve_newlines+1),i=0;i<t;i++)this.print_newline(i>0);return t!==0};f.prototype.traverse_whitespace=function(n){return n.whitespace_before||n.newlines?(this.print_preserved_newlines(n)||(this._output.space_before_token=!0),!0):!1};f.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped};f.prototype.print_newline=function(n){this._output.add_new_line(n)};f.prototype.print_token=function(n){n.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(n.text))};f.prototype.indent=function(){this.indent_level++};f.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))};f.prototype.get_full_indent=function(n){return(n=this.indent_level+(n||0),n<1)?"":this._output.get_indent_string(n)};c=function(n){for(var i=null,t=n.next;t.type!==r.EOF&&n.closed!==t;){if(t.type===r.ATTRIBUTE&&t.text==="type"){t.next&&t.next.type===r.EQUALS&&t.next.next&&t.next.next.type===r.VALUE&&(i=t.next.next.text);break}t=t.next}return i};l=function(n,t){var i=null,r=null;return t.closed?(n==="script"?i="text/javascript":n==="style"&&(i="text/css"),i=c(t)||i,i.search("text/css")>-1?r="css":i.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?r="javascript":i.search(/(text|application|dojo)\/(x-)?(html)/)>-1?r="html":i.search(/test\/null/)>-1&&(r="null"),r):null};e.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null};e.prototype.record_tag=function(n){var t=new k(this._current_frame,n,this._printer.indent_level);this._current_frame=t};e.prototype._try_pop_frame=function(n){var t=null;return n&&(t=n.parser_token,this._printer.indent_level=n.indent_level,this._current_frame=n.parent),t};e.prototype._get_frame=function(n,t){for(var i=this._current_frame;i;){if(n.indexOf(i.tag)!==-1)break;else if(t&&t.indexOf(i.tag)!==-1){i=null;break}i=i.parent}return i};e.prototype.try_pop=function(n,t){var i=this._get_frame([n],t);return this._try_pop_frame(i)};e.prototype.indent_to_tag=function(n){var t=this._get_frame(n);t&&(this._printer.indent_level=t.indent_level)};u.prototype.beautify=function(){var u,c,i,n;if(this._options.disabled)return this._source_text;u=this._source_text;c=this._options.eol;this._options.eol==="auto"&&(c="\n",u&&h.test(u)&&(c=u.match(h)[0]));u=u.replace(b,"\n");var v=u.match(/^[\t ]*/)[0],l={text:"",type:""},o=new s,t=new f(this._options,v),a=new w(u,this._options).tokenize();for(this._tag_stack=new e(t),i=null,n=a.next();n.type!==r.EOF;)n.type===r.TAG_OPEN||n.type===r.COMMENT?(i=this._handle_tag_open(t,n,o,l,a),o=i):n.type!==r.ATTRIBUTE&&n.type!==r.EQUALS&&n.type!==r.VALUE&&(n.type!==r.TEXT||o.tag_complete)?n.type===r.TAG_CLOSE?i=this._handle_tag_close(t,n,o):n.type===r.TEXT?i=this._handle_text(t,n,o):n.type===r.CONTROL_FLOW_OPEN?i=this._handle_control_flow_open(t,n):n.type===r.CONTROL_FLOW_CLOSE?i=this._handle_control_flow_close(t,n):t.add_raw_token(n):i=this._handle_inside_tag(t,n,o,l),l=i,n=a.next();return t._output.get_code(c)};u.prototype._handle_control_flow_open=function(n,t){var i={text:t.text,type:t.type};return n.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),t.newlines?n.print_preserved_newlines(t):n.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),n.print_token(t),n.indent(),i};u.prototype._handle_control_flow_close=function(n,t){var i={text:t.text,type:t.type};return n.deindent(),t.newlines?n.print_preserved_newlines(t):n.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),n.print_token(t),i};u.prototype._handle_tag_close=function(n,t,i){var r={text:t.text,type:t.type};return n.alignment_size=0,i.tag_complete=!0,n.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),i.is_unformatted?n.add_raw_token(t):(i.tag_start_char==="<"&&(n.set_space_before_token(t.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&i.has_wrapped_attrs&&n.print_newline(!1)),n.print_token(t)),!i.indent_content||i.is_unformatted||i.is_content_unformatted||(n.indent(),i.indent_content=!1),i.is_inline_element||i.is_unformatted||i.is_content_unformatted||n.set_wrap_point(),r};u.prototype._handle_inside_tag=function(n,t,i,u){var f=i.has_wrapped_attrs,e={text:t.text,type:t.type};return n.set_space_before_token(t.newlines||t.whitespace_before!=="",!0),i.is_unformatted?n.add_raw_token(t):i.tag_start_char==="{"&&t.type===r.TEXT?n.print_preserved_newlines(t)?(t.newlines=0,n.add_raw_token(t)):n.print_token(t):(t.type===r.ATTRIBUTE?n.set_space_before_token(!0):t.type===r.EQUALS?n.set_space_before_token(!1):t.type===r.VALUE&&t.previous.type===r.EQUALS&&n.set_space_before_token(!1),t.type===r.ATTRIBUTE&&i.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(n.traverse_whitespace(t),f=f||t.newlines!==0),this._is_wrap_attributes_force&&i.attr_count>=this._options.wrap_attributes_min_attrs&&(u.type!==r.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(n.print_newline(!1),f=!0)),n.print_token(t),f=f||n.previous_token_wrapped(),i.has_wrapped_attrs=f),e};u.prototype._handle_text=function(n,t,i){var r={text:t.text,type:"TK_CONTENT"};return i.custom_beautifier_name?this._print_custom_beatifier_text(n,t,i):i.is_unformatted||i.is_content_unformatted?n.add_raw_token(t):(n.traverse_whitespace(t),n.print_token(t)),r};u.prototype._print_custom_beatifier_text=function(n,t,i){var v=this,e,f,l,y,a;if(t.text!==""){var r=t.text,o,h=1,s="",c="";if(i.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?o=this._js_beautify:i.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?o=this._css_beautify:i.custom_beautifier_name==="html"&&(o=function(n,t){var i=new u(n,t,v._js_beautify,v._css_beautify);return i.beautify()}),this._options.indent_scripts==="keep"?h=0:this._options.indent_scripts==="separate"&&(h=-n.indent_level),e=n.get_full_indent(h),r=r.replace(/\n[ \t]*$/,""),i.custom_beautifier_name!=="html"&&r[0]==="<"&&r.match(/^(<!--|<!\[CDATA\[)/)){if(f=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(r),!f){n.add_raw_token(t);return}s=e+f[1]+"\n";r=f[4];f[5]&&(c=e+f[5]);r=r.replace(/\n[ \t]*$/,"");(f[2]||f[3].indexOf("\n")!==-1)&&(f=f[3].match(/[ \t]+$/),f&&(t.whitespace_before=f[0]))}r&&(o?(l=function(){this.eol="\n"},l.prototype=this._options.raw_options,y=new l,r=o(e+r,y)):(a=t.whitespace_before,a&&(r=r.replace(new RegExp("\n("+a+")?","g"),"\n")),r=e+r.replace(/\n/g,"\n"+e)));s&&(r=r?s+r+"\n"+c:s+c);n.print_newline(!1);r&&(t.text=r,t.whitespace_before="",t.newlines=0,n.add_raw_token(t),n.print_newline(!0))}};u.prototype._handle_tag_open=function(n,t,i,u,f){var e=this._get_tag_open_token(t),s,o;if(!(i.is_unformatted||i.is_content_unformatted)||i.is_empty_element||t.type!==r.TAG_OPEN||e.is_start_tag?(n.traverse_whitespace(t),this._set_tag_position(n,t,e,i,u),e.is_inline_element||n.set_wrap_point(),n.print_token(t)):(n.add_raw_token(t),e.start_tag_token=this._tag_stack.try_pop(e.tag_name)),e.is_start_tag&&this._is_wrap_attributes_force){s=0;do o=f.peek(s),o.type===r.ATTRIBUTE&&(e.attr_count+=1),s+=1;while(o.type!==r.EOF&&o.type!==r.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(e.alignment_size=t.text.length+1),e.tag_complete||e.is_unformatted||(n.alignment_size=e.alignment_size),e};s=function(n,t){var i,u;this.parent=n||null;this.text="";this.type="TK_TAG_OPEN";this.tag_name="";this.is_inline_element=!1;this.is_unformatted=!1;this.is_content_unformatted=!1;this.is_empty_element=!1;this.is_start_tag=!1;this.is_end_tag=!1;this.indent_content=!1;this.multiline_content=!1;this.custom_beautifier_name=null;this.start_tag_token=null;this.attr_count=0;this.has_wrapped_attrs=!1;this.alignment_size=0;this.tag_complete=!1;this.tag_start_char="";this.tag_check="";t?(this.tag_start_char=t.text[0],this.text=t.text,this.tag_start_char==="<"?(i=t.text.match(/^<([^\s>]*)/),this.tag_check=i?i[1]:""):(i=t.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=i?i[1]:"",(t.text.startsWith("{{#>")||t.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check=this.tag_check===">"&&t.next!==null?t.next.text.split(" ")[0]:t.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),t.type===r.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||t.closed&&t.closed.text==="/>",u=2,this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(u=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(u)))):this.tag_complete=!0};u.prototype._get_tag_open_token=function(n){var t=new s(this._tag_stack.get_parser_token(),n);return t.alignment_size=this._options.wrap_attributes_indent_size,t.is_end_tag=t.is_end_tag||o(t.tag_check,this._options.void_elements),t.is_empty_element=t.tag_complete||t.is_start_tag&&t.is_end_tag,t.is_unformatted=!t.tag_complete&&o(t.tag_check,this._options.unformatted),t.is_content_unformatted=!t.is_empty_element&&o(t.tag_check,this._options.content_unformatted),t.is_inline_element=o(t.tag_name,this._options.inline)||this._options.inline_custom_elements&&t.tag_name.includes("-")||t.tag_start_char==="{",t};u.prototype._set_tag_position=function(n,t,i,u,f){var s,e;i.is_empty_element||(i.is_end_tag?i.start_tag_token=this._tag_stack.try_pop(i.tag_name):(this._do_optional_end_element(i)&&(i.is_inline_element||n.print_newline(!1)),this._tag_stack.record_tag(i),i.tag_name!=="script"&&i.tag_name!=="style"||i.is_unformatted||i.is_content_unformatted||(i.custom_beautifier_name=l(i.tag_check,t))));o(i.tag_check,this._options.extra_liners)&&(n.print_newline(!1),n._output.just_added_blankline()||n.print_newline(!0));i.is_empty_element?(i.tag_start_char==="{"&&i.tag_check==="else"&&(this._tag_stack.indent_to_tag(["if","unless","each"]),i.indent_content=!0,s=n.current_line_has_match(/{{#if/),s||n.print_newline(!1)),i.tag_name==="!--"&&f.type===r.TAG_CLOSE&&u.is_end_tag&&i.text.indexOf("\n")===-1||(i.is_inline_element||i.is_unformatted||n.print_newline(!1),this._calcluate_parent_multiline(n,i))):i.is_end_tag?(e=!1,e=i.start_tag_token&&i.start_tag_token.multiline_content,e=e||!i.is_inline_element&&!(u.is_inline_element||u.is_unformatted)&&!(f.type===r.TAG_CLOSE&&i.start_tag_token===u)&&f.type!=="TK_CONTENT",(i.is_content_unformatted||i.is_unformatted)&&(e=!1),e&&n.print_newline(!1)):(i.indent_content=!i.custom_beautifier_name,i.tag_start_char==="<"&&(i.tag_name==="html"?i.indent_content=this._options.indent_inner_html:i.tag_name==="head"?i.indent_content=this._options.indent_head_inner_html:i.tag_name==="body"&&(i.indent_content=this._options.indent_body_inner_html)),i.is_inline_element||i.is_unformatted||f.type==="TK_CONTENT"&&!i.is_content_unformatted||n.print_newline(!1),this._calcluate_parent_multiline(n,i))};u.prototype._calcluate_parent_multiline=function(n,t){!t.parent||!n._output.just_added_newline()||(t.is_inline_element||t.is_unformatted)&&t.parent.is_inline_element||(t.parent.multiline_content=!0)};a=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"];v=["a","audio","del","ins","map","noscript","video"];u.prototype._do_optional_end_element=function(n){var t=null,i;if(!n.is_empty_element&&n.is_start_tag&&n.parent)return n.tag_name==="body"?t=t||this._tag_stack.try_pop("head"):n.tag_name==="li"?t=t||this._tag_stack.try_pop("li",["ol","ul","menu"]):n.tag_name==="dd"||n.tag_name==="dt"?(t=t||this._tag_stack.try_pop("dt",["dl"]),t=t||this._tag_stack.try_pop("dd",["dl"])):n.parent.tag_name==="p"&&a.indexOf(n.tag_name)!==-1?(i=n.parent.parent,i&&v.indexOf(i.tag_name)!==-1||(t=t||this._tag_stack.try_pop("p"))):n.tag_name==="rp"||n.tag_name==="rt"?(t=t||this._tag_stack.try_pop("rt",["ruby","rtc"]),t=t||this._tag_stack.try_pop("rp",["ruby","rtc"])):n.tag_name==="optgroup"?t=t||this._tag_stack.try_pop("optgroup",["select"]):n.tag_name==="option"?t=t||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):n.tag_name==="colgroup"?t=t||this._tag_stack.try_pop("caption",["table"]):n.tag_name==="thead"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"])):n.tag_name==="tbody"||n.tag_name==="tfoot"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("thead",["table"]),t=t||this._tag_stack.try_pop("tbody",["table"])):n.tag_name==="tr"?(t=t||this._tag_stack.try_pop("caption",["table"]),t=t||this._tag_stack.try_pop("colgroup",["table"]),t=t||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(n.tag_name==="th"||n.tag_name==="td")&&(t=t||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),t=t||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"])),n.parent=this._tag_stack.get_parser_token(),t};n.exports.Beautifier=u},function(n,t,i){function u(n){r.call(this,n,"html");this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]);this.indent_inner_html=this._get_boolean("indent_inner_html");this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0);this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0);this.indent_handlebars=this._get_boolean("indent_handlebars",!0);this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]);this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2);this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size);this.extra_liners=this._get_array("extra_liners",["head","body","/html"]);this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]);this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0);this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]);this.unformatted=this._get_array("unformatted",[]);this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]);this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter");this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}var r=i(6).Options;u.prototype=new r;n.exports.Options=u},function(n,t,i){var e=i(9).Tokenizer,f=i(9).TOKEN,s=i(13).Directives,h=i(14).TemplatablePattern,c=i(12).Pattern,r={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:f.START,RAW:f.RAW,EOF:f.EOF},o=new s(/<\!--/,/-->/),u=function(n,t){var r,i,u;e.call(this,n,t);this._current_tag_name="";r=new h(this._input).read_options(this._options);i=new c(this._input);this.__patterns={word:r.until(/[\n\r\t <]/),word_control_flow_close_excluded:r.until(/[\n\r\t <}]/),single_quote:r.until_after(/'/),double_quote:r.until_after(/"/),attribute:r.until(/[\n\r\t =>]|\/>/),element_name:r.until(/[\n\r\t >\/]/),angular_control_flow_start:i.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:i.starting_with(/{{!--/).until_after(/--}}/),handlebars:i.starting_with(/{{/).until_after(/}}/),handlebars_open:i.until(/[\n\r\t }]/),handlebars_raw_close:i.until(/}}/),comment:i.starting_with(/<!--/).until_after(/-->/),cdata:i.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:i.starting_with(/<!\[/).until_after(/]>/),processing:i.starting_with(/<\?/).until_after(/\?>/)};this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars"));this._unformatted_content_delimiter=null;this._options.unformatted_content_delimiter&&(u=this._input.get_literal_regexp(this._options.unformatted_content_delimiter),this.__patterns.unformatted_content_delimiter=i.matching(u).until_after(u))};u.prototype=new e;u.prototype._is_comment=function(){return!1};u.prototype._is_opening=function(n){return n.type===r.TAG_OPEN||n.type===r.CONTROL_FLOW_OPEN};u.prototype._is_closing=function(n,t){return n.type===r.TAG_CLOSE&&t&&((n.text===">"||n.text==="/>")&&t.text[0]==="<"||n.text==="}}"&&t.text[0]==="{"&&t.text[1]==="{")||n.type===r.CONTROL_FLOW_CLOSE&&n.text==="}"&&t.text.endsWith("{")};u.prototype._reset=function(){this._current_tag_name=""};u.prototype._get_next_token=function(n,t){var i=null,u;return(this._readWhitespace(),u=this._input.peek(),u===null)?this._create_token(r.EOF,""):(i=i||this._read_open_handlebars(u,t),i=i||this._read_attribute(u,n,t),i=i||this._read_close(u,t),i=i||this._read_control_flows(u,t),i=i||this._read_raw_content(u,n,t),i=i||this._read_content_word(u,t),i=i||this._read_comment_or_cdata(u),i=i||this._read_processing(u),i=i||this._read_open(u,t),i||this._create_token(r.UNKNOWN,this._input.next()))};u.prototype._read_comment_or_cdata=function(n){var u=null,t=null,i=null,f;return n==="<"&&(f=this._input.peek(1),f==="!"&&(t=this.__patterns.comment.read(),t?(i=o.get_directives(t),i&&i.ignore==="start"&&(t+=o.readIgnored(this._input))):t=this.__patterns.cdata.read()),t&&(u=this._create_token(r.COMMENT,t),u.directives=i)),u};u.prototype._read_processing=function(n){var i=null,t=null,u;return n==="<"&&(u=this._input.peek(1),(u==="!"||u==="?")&&(t=this.__patterns.conditional_comment.read(),t=t||this.__patterns.processing.read()),t&&(i=this._create_token(r.COMMENT,t),i.directives=null)),i};u.prototype._read_open=function(n,t){var i=null,u=null;return t&&t.type!==r.CONTROL_FLOW_OPEN||n==="<"&&(i=this._input.next(),this._input.peek()==="/"&&(i+=this._input.next()),i+=this.__patterns.element_name.read(),u=this._create_token(r.TAG_OPEN,i)),u};u.prototype._read_open_handlebars=function(n,t){var i=null,u=null;return t&&t.type!==r.CONTROL_FLOW_OPEN||this._options.indent_handlebars&&n==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(i=this.__patterns.handlebars_comment.read(),i=i||this.__patterns.handlebars.read(),u=this._create_token(r.COMMENT,i)):(i=this.__patterns.handlebars_open.read(),u=this._create_token(r.TAG_OPEN,i))),u};u.prototype._read_control_flows=function(n,t){var i="",u=null,e,o,f;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return u;if(n==="@"){if(i=this.__patterns.angular_control_flow_start.read(),i==="")return u;for(e=i.endsWith("(")?1:0,o=0;!(i.endsWith("{")&&e===o);){if(f=this._input.next(),f===null)break;else f==="("?e++:f===")"&&o++;i+=f}u=this._create_token(r.CONTROL_FLOW_OPEN,i)}else n==="}"&&t&&t.type===r.CONTROL_FLOW_OPEN&&(i=this._input.next(),u=this._create_token(r.CONTROL_FLOW_CLOSE,i));return u};u.prototype._read_close=function(n,t){var i=null,u=null;return t&&t.type===r.TAG_OPEN&&(t.text[0]==="<"&&(n===">"||n==="/"&&this._input.peek(1)===">")?(i=this._input.next(),n==="/"&&(i+=this._input.next()),u=this._create_token(r.TAG_CLOSE,i)):t.text[0]==="{"&&n==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),u=this._create_token(r.TAG_CLOSE,"}}"))),u};u.prototype._read_attribute=function(n,t,i){var u=null,f="",e;return i&&i.text[0]==="<"&&(n==="="?u=this._create_token(r.EQUALS,this._input.next()):n==='"'||n==="'"?(e=this._input.next(),e+=n==='"'?this.__patterns.double_quote.read():this.__patterns.single_quote.read(),u=this._create_token(r.VALUE,e)):(f=this.__patterns.attribute.read(),f&&(u=t.type===r.EQUALS?this._create_token(r.VALUE,f):this._create_token(r.ATTRIBUTE,f)))),u};u.prototype._is_content_unformatted=function(n){return this._options.void_elements.indexOf(n)===-1&&(this._options.content_unformatted.indexOf(n)!==-1||this._options.unformatted.indexOf(n)!==-1)};u.prototype._read_raw_content=function(n,t,i){var f="",u,e;if(i&&i.text[0]==="{")f=this.__patterns.handlebars_raw_close.read();else if(t.type===r.TAG_CLOSE&&t.opened.text[0]==="<"&&t.text[0]!=="/")if(u=t.opened.text.substr(1).toLowerCase(),u==="script"||u==="style"){if(e=this._read_comment_or_cdata(n),e)return e.type=r.TEXT,e;f=this._input.readUntil(new RegExp("<\/"+u+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(u)&&(f=this._input.readUntil(new RegExp("<\/"+u+"[\\n\\r\\t ]*?>","ig")));return f?this._create_token(r.TEXT,f):null};u.prototype._read_content_word=function(n,t){var i="";return this._options.unformatted_content_delimiter&&n===this._options.unformatted_content_delimiter[0]&&(i=this.__patterns.unformatted_content_delimiter.read()),i||(i=t&&t.type===r.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),i?this._create_token(r.TEXT,i):void 0};n.exports.Tokenizer=u;n.exports.TOKEN=r}],n={},u=i(18);t=u})();n=t;typeof define=="function"&&define.amd?define(["require","./beautify","./beautify-css"],function(t){var i=t("./beautify"),r=t("./beautify-css");return{html_beautify:function(t,u){return n(t,u,i.js_beautify,r.css_beautify)}}}):typeof exports!="undefined"?(i=require("./beautify.js"),r=require("./beautify-css.js"),exports.html_beautify=function(t,u){return n(t,u,i.js_beautify,r.css_beautify)}):typeof window!="undefined"?window.html_beautify=function(t,i){return n(t,i,window.js_beautify,window.css_beautify)}:typeof global!="undefined"&&(global.html_beautify=function(t,i){return n(t,i,global.js_beautify,global.css_beautify)})})();